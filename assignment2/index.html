<html>
<head>
  <title> Jessica ASSIGNMENT 2 </title>
  <link rel="stylesheet" type="text/css" href="assignment2.css">
  </head>
  <body>
    <h2> ASSIGNMENT 2 - Will come up with a cooler name later </h2>
  <canvas id="testCanvas" width="500" height="500">

  </canvas>
  </body>

  <script>
  /*** THIS EX SHOWS THE BASIC SETUP ****/
  //only run this once the window loads
  window.onload = function(){
// step 1 access the canvas element && the graphics context....
let canvas = document.getElementById('testCanvas');
let canvasContext = canvas.getContext('2d');

// max number ellipses
const MAX_ELLIPSES =10;
const MAX_RECT = 10;
//array to hold objects
let myEllipses = [];
let myRect = [];
//make some possible colors
let colors = ["#d9b3ff","#ffb3d9","#ffb3b3","#ffff80","#b3c6ff","#ccffb3","#ffe0b3"];
//let colors = ["#d9b3ff","#ffb3d9","#ffb3b3","#ffff80","#b3c6ff","#ccffb3","#ffe0b3"];

//fill the array with objects
for (let i =0; i< MAX_ELLIPSES;i++){
// have different parameters for each ellipse object
  myEllipses.push(new myRunningEllipse(i,i,10,colors[i%colors.length],(i%5)+1,(i%6)+2));
}
for (let i =0; i< MAX_RECT;i++){
// have different parameters for each rect object
  myRect.push(new myRunningRect(i,i,10,colors[i%colors.length],(i%5)+1,(i%6)+2));
}

requestAnimationFrame(runAni);

// this is our callback function (to simulate a loop ... )
function runAni(){
  //need to reset the background :)
  // clear the canvas ...
  canvasContext.clearRect(0, 0, canvas.width, canvas.height);

  // go through each object and perform required ops
  for (let i =0; i< MAX_ELLIPSES;i++){
    myEllipses[i].update();
    myEllipses[i].render();

  }

  for (let i =0; i< MAX_RECT;i++){
    myRect[i].update();
    myRect[i].render();

  }
  // recursive call ...
  requestAnimationFrame(runAni);
}

//function myRunningRect()
function myRunningEllipse(x,y,r,c,xSpeed,ySpeed){
  //member variables
  this.xPos = x;
  this.yPos = y;
  this.radius = r;
  this.ellipseColor = c;

  // new for updating
  this.xSpeed = xSpeed;
  this.ySpeed =ySpeed;

//member function
  this.render =function(){
      canvasContext.fillStyle = this.ellipseColor;// change the color we are using
      canvasContext.beginPath();
      canvasContext.arc(this.xPos,this.yPos,this.radius,0, Math.PI * 2, true);
      canvasContext.fill(); // set the fill
      canvasContext.closePath(); //close a path ...
    }
  //member function for updating
  this.update = function(){
       if(this.xPos<0 || this.xPos>canvas.width){
         this.xSpeed*=-1;
       }
       if(this.yPos<0 || this.yPos>canvas.height){
         this.ySpeed*=-1;
       }
       this.xPos+=this.xSpeed;
       this.yPos+=this.ySpeed;
     }
  } // end of circle

//start of rect
  function Rect(x, y, w, h, xSpeed,ySpeed) {
      this.x = x;
      this.y = y;
      this.w = w;
      this.h = h;
      this.rectColor  = c;

      this.xSpeed = xSpeed;
      this.ySpeed =ySpeed;

      this.render = function(){
          canvasContext.fillStyle = this.rectColor;// change the color we are using
          canvasContext.beginPath();
          canvasContext.fill(); // set the fill
          canvasContext.closePath(); //close a path ...
        }

        this.update = function(){
             if(this.xPos<0 || this.xPos>canvas.width){
               this.xSpeed*=-1;
             }
             if(this.yPos<0 || this.yPos>canvas.height){
               this.ySpeed*=-1;
             }
             this.xPos+=this.xSpeed;
             this.yPos+=this.ySpeed;
           }
    }

} //end window onload - EVERYTHING HAS TO BE INSIDE OF HERE
  </script>


</html>
