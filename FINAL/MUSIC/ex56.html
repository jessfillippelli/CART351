<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>  Christmas Music  </title>
<link rel="stylesheet" href="ex56.css">
<link href="https://fonts.googleapis.com/css?family=Mountains+of+Christmas" rel="stylesheet">
<!-- <script src ="snow.js"></script> -->

<script src = "jquery/jquery-3.3.1.min.js"></script>
<script>

$(document).ready(function(){


$("#searchButton").click(function(event){
	//document.getElementById("stairSound").src = "";
	let searchItem = $("#searchText").val();
	console.log(searchItem);
	$.getJSON('music.json',function(data) {
 //success
	 //step 1: console.log the result
	 // console.log(data.Stairs[0].Sound);



	for(let i=0; i< data.Stairs.length; i++){
		console.log(data.Stairs[i].Day.toLowerCase()===searchItem.toLowerCase());
		if(data.Stairs[i].Day.toLowerCase().includes(searchItem.toLowerCase())){
			console.log("test");
			let audioTagContainer= document.createElement("div");
      let audioTag= document.createElement("audio");
			 audioTag.src = "sounds/"+data.Stairs[i].Sound;
			 audioTag.type = "audio/mpeg";
			 audioTag.controls = 'controls';
			 audioTagContainer.appendChild(audioTag);
			 document.getElementById("audioElements").appendChild(audioTagContainer);


		}
	}
 })
 //fail
 .fail(function() {
	 console.log( "error" );
 });



}); //click




});//ready
</script>

</head>
<body>

<h1>Welcome to 12 Days of Databases door one. </h1>
<h1> Today's activite is listenng to some Christmas music.  </h1>
<h1> Type in a song you want to listen to and see if the database agrees with you. </h1>

<button class="button button1">HOME</button>
<button class="button button2">SEE OTHER USERS INPUT</button>

<!-- <button type="button">See other people's input </button>
<p><button class="inputbutton">Button</button></p> -->
<h2> Click Search not the return key</h2>
<h1> Happy Listening </h1>






<p>
<input type="text" id="searchText" value="search Item" />
<input type="button" value="Search!" id="searchButton" />
<br/>
<div id = "audioElements"></div>

<!-- <audio id = "stairSound" controls>
<source src="" type="audio/mpeg">
Your browser does not support the audio element.
</audio> -->
</p>

<!-- <div id = "container">
</div> -->
<div id="images"></div>


</body>
</html>
